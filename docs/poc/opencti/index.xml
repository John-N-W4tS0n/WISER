<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>OpenCTI on Tech Blog : WISER</title>
    <link>https://www.wiser-blog.com/docs/poc/opencti/</link>
    <description>Recent content in OpenCTI on Tech Blog : WISER</description>
    <generator>Hugo</generator>
    <language>ja-jp</language>
    <lastBuildDate>Tue, 03 Jun 2025 01:45:04 +0900</lastBuildDate>
    <atom:link href="https://www.wiser-blog.com/docs/poc/opencti/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>OpenCTI 実装 by Docker</title>
      <link>https://www.wiser-blog.com/docs/poc/opencti/intro/</link>
      <pubDate>Sat, 31 May 2025 03:37:15 +0900</pubDate>
      <guid>https://www.wiser-blog.com/docs/poc/opencti/intro/</guid>
      <description>&lt;br&gt;&#xA;&lt;h2 id=&#34;opencti-とは&#34;&gt;OpenCTI とは &lt;a href=&#34;#opencti-%e3%81%a8%e3%81%af&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;OpenCTI&lt;/strong&gt;とは、&lt;strong&gt;脅威インテリジェンスプラットフォーム&lt;/strong&gt;。&lt;br&gt;&#xA;脅威インテリジェンスプラットフォームとは、脅威情報（IoC、TTPs、攻撃者情報など）を集約・整理・分析・共有するためのシステムで、OpenCTI以外にも、さまざまなプラットフォームがある。&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&lt;figure&gt;&#xA;  &lt;img src=&#34;https://www.wiser-blog.com/docs-images/PoC/opencti/20250531_intro_1.jpg&#34; alt=&#34;図. OpenCTI ダッシュボード&#34; loading=&#34;lazy&#34; style=&#34;max-width: 100%; height: auto;&#34;&gt;&#xA;  &#xA;    &lt;figcaption style=&#34;font-size: 1em;&#34;&gt;図. OpenCTI ダッシュボード&lt;/figcaption&gt;&#xA;  &#xA;&lt;/figure&gt;&#xA;&lt;/p&gt;&#xA;&lt;h2 id=&#34;脅威インテリジェンスとは&#34;&gt;脅威インテリジェンスとは &lt;a href=&#34;#%e8%84%85%e5%a8%81%e3%82%a4%e3%83%b3%e3%83%86%e3%83%aa%e3%82%b8%e3%82%a7%e3%83%b3%e3%82%b9%e3%81%a8%e3%81%af&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;IoCなどの脅威情報のことです。&lt;br&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;実装&#34;&gt;実装 &lt;a href=&#34;#%e5%ae%9f%e8%a3%85&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;公式docs上に、&lt;a href=&#34;https://docs.opencti.io/latest/deployment/installation/&#34; rel=&#34;external&#34; target=&#34;_blank&#34;&gt;インストールガイド&lt;svg width=&#34;16&#34; height=&#34;16&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;&lt;path fill=&#34;currentColor&#34; d=&#34;M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z&#34;/&gt;&lt;/svg&gt;&lt;/a&gt;があるためそれを参考に構築。&lt;br&gt;&#xA;今回はこの手順の中の、「Using Docker」を参考にして実装を行う。&lt;br&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;h3 id=&#34;１事前準備&#34;&gt;１．事前準備 &lt;a href=&#34;#%ef%bc%91%e4%ba%8b%e5%89%8d%e6%ba%96%e5%82%99&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h3&gt;&lt;ul&gt;&#xA;&lt;li&gt;・Portainerのインストール ※任意（本手順はこれを利用している。あると便利。）&lt;/li&gt;&#xA;&lt;li&gt;・docker-composeのインストール &lt;strong&gt;※必須&lt;/strong&gt;&lt;br&gt;&#xA;&lt;br&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;h3 id=&#34;２envファイルの作成&#34;&gt;２．.envファイルの作成 &lt;a href=&#34;#%ef%bc%92env%e3%83%95%e3%82%a1%e3%82%a4%e3%83%ab%e3%81%ae%e4%bd%9c%e6%88%90&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h3&gt;&lt;ul&gt;&#xA;&lt;li&gt;コンテナを作成する際に、.envファイルを指定して&lt;strong&gt;パラメータをインポートしながら作成&lt;/strong&gt;が可能。&lt;/li&gt;&#xA;&lt;li&gt;OpenCTIのGitHubリポジトリには、.envファイルのサンプル（&lt;code&gt;.env.sample&lt;/code&gt;）もあるため、参考に作成していく。&lt;/li&gt;&#xA;&lt;li&gt;最終、以下の.envを作成。&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;br&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;div class=&#34;alert alert-default d-flex&#34; role=&#34;alert&#34;&gt;&#xA;  &lt;div class=&#34;flex-shrink-1 alert-icon&#34;&gt;&#xA;  &#xA;  &lt;span class=&#34;material-icons size-20 me-2&#34;&gt;&#xA;  notifications&#xA;  &lt;/span&gt;&lt;/div&gt;&#xA;  &#xA;  &#xA;  &lt;div class=&#34;w-100&#34;&gt;&#xA;  &#xA;&#x9;以下の$(cat /proc/sys/kernel/random/uuid)は、Linux標準機能でUUIDの乱数を生成してくれるバイナリだが、&lt;br&gt;&#xA;&#x9;コマンドのまま記載すると失敗したので一度別途ターミナルで実行し、値を挿入した。&#xA;&#x9;&#xA;  &lt;/div&gt;&#xA;  &lt;/div&gt;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&#xA;&#xA;    &#xA;    &lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;  OPENCTI_ADMIN_EMAIL=admin@opencti.io&#xA;  OPENCTI_ADMIN_PASSWORD=admin&#xA;  OPENCTI_ADMIN_TOKEN=$(cat /proc/sys/kernel/random/uuid)&#xA;  OPENCTI_BASE_URL=http://localhost:8080&#xA;  OPENCTI_HEALTHCHECK_ACCESS_KEY=$(cat /proc/sys/kernel/random/uuid)&#xA;  MINIO_ROOT_USER=$(cat /proc/sys/kernel/random/uuid)&#xA;  MINIO_ROOT_PASSWORD=$(cat /proc/sys/kernel/random/uuid)&#xA;  RABBITMQ_DEFAULT_USER=guest&#xA;  RABBITMQ_DEFAULT_PASS=guest&#xA;  ELASTIC_MEMORY_SIZE=4G&#xA;  CONNECTOR_HISTORY_ID=$(cat /proc/sys/kernel/random/uuid)&#xA;  CONNECTOR_EXPORT_FILE_STIX_ID=$(cat /proc/sys/kernel/random/uuid)&#xA;  CONNECTOR_EXPORT_FILE_CSV_ID=$(cat /proc/sys/kernel/random/uuid)&#xA;  CONNECTOR_IMPORT_FILE_STIX_ID=$(cat /proc/sys/kernel/random/uuid)&#xA;  CONNECTOR_EXPORT_FILE_TXT_ID=$(cat /proc/sys/kernel/random/uuid)&#xA;  CONNECTOR_IMPORT_DOCUMENT_ID=$(cat /proc/sys/kernel/random/uuid)&#xA;  CONNECTOR_ANALYSIS_ID=$(cat /proc/sys/kernel/random/uuid)&#xA;  SMTP_HOSTNAME=localhost&lt;/code&gt;&lt;/pre&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;br&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;h3 id=&#34;３docker-composeymlの作成&#34;&gt;３．docker-compose.ymlの作成 &lt;a href=&#34;#%ef%bc%93docker-composeyml%e3%81%ae%e4%bd%9c%e6%88%90&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h3&gt;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/OpenCTI-Platform/docker&#34; rel=&#34;external&#34; target=&#34;_blank&#34;&gt;リンク&lt;svg width=&#34;16&#34; height=&#34;16&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;&lt;path fill=&#34;currentColor&#34; d=&#34;M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z&#34;/&gt;&lt;/svg&gt;&lt;/a&gt;から、リポジトリをダウンロードする。その中の&lt;code&gt;docker-compose.yml&lt;/code&gt;ファイルを編集していく。&lt;br&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>OpenCTI Connector 実装 by Docker</title>
      <link>https://www.wiser-blog.com/docs/poc/opencti/connector/</link>
      <pubDate>Tue, 03 Jun 2025 01:45:04 +0900</pubDate>
      <guid>https://www.wiser-blog.com/docs/poc/opencti/connector/</guid>
      <description>&lt;br&gt;&#xA;&lt;h2 id=&#34;概要&#34;&gt;概要 &lt;a href=&#34;#%e6%a6%82%e8%a6%81&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;OpenCTIへ簡単に脅威情報を&lt;strong&gt;インポート&lt;/strong&gt;、データ拡充（&lt;strong&gt;エンリッチメント&lt;/strong&gt;という）、または&lt;strong&gt;エクスポート&lt;/strong&gt;を可能とする。&lt;br&gt;&#xA;機能に応じて、主には以下の通りに大別される。&lt;br&gt;&#xA;&#xA;&#xA;&#xA;&lt;figure&gt;&#xA;  &lt;img src=&#34;https://www.wiser-blog.com/docs-images/PoC/opencti/20250603_connector_1.jpg&#34; alt=&#34;図. コネクター概要図&#34; loading=&#34;lazy&#34; style=&#34;max-width: 100%; height: auto;&#34;&gt;&#xA;  &#xA;    &lt;figcaption style=&#34;font-size: 1em;&#34;&gt;図. コネクター概要図&lt;/figcaption&gt;&#xA;  &#xA;&lt;/figure&gt;&#xA;&lt;/p&gt;&#xA;&lt;h2 id=&#34;各種コネクターの説明&#34;&gt;各種コネクターの説明 &lt;a href=&#34;#%e5%90%84%e7%a8%ae%e3%82%b3%e3%83%8d%e3%82%af%e3%82%bf%e3%83%bc%e3%81%ae%e8%aa%ac%e6%98%8e&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;h3 id=&#34;１import&#34;&gt;１．Import &lt;a href=&#34;#%ef%bc%91import&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;これらのコネクタは、外部の組織/アプリケーション/サービスから&lt;strong&gt;自動で取得&lt;/strong&gt;し、STIX2.1にバンドルする。&lt;br&gt;&#xA;Workerを利用して、それらをOpenCTIにインポートする。&lt;br&gt;&#xA;&#xA;&lt;div class=&#34;alert alert-default d-flex&#34; role=&#34;alert&#34;&gt;&#xA;  &lt;div class=&#34;flex-shrink-1 alert-icon&#34;&gt;&#xA;  &#xA;  &lt;span class=&#34;material-icons size-20 me-2&#34;&gt;&#xA;  notifications&#xA;  &lt;/span&gt;&lt;/div&gt;&#xA;  &#xA;  &#xA;  &lt;div class=&#34;w-100&#34;&gt;&#xA;  &#xA;本ページでは、この実装に関して説明します。&#xA;&#x9;&#xA;  &lt;/div&gt;&#xA;  &lt;/div&gt;&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;h3 id=&#34;２enrichment&#34;&gt;２．Enrichment &lt;a href=&#34;#%ef%bc%92enrichment&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;新しいオブジェクトが生成された際に、関連する情報をインターネットから収集してデータをエンリッチメントできる。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;h3 id=&#34;３stream&#34;&gt;３．Stream &lt;a href=&#34;#%ef%bc%93stream&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;OpenCTIデータを取り込んで、SIEM, XDR, EDRといったサードパーティプラットフォームに挿入する。&lt;/p&gt;&#xA;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;h3 id=&#34;４import-files&#34;&gt;４．Import Files &lt;a href=&#34;#%ef%bc%94import-files&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h3&gt;&lt;/li&gt;&#xA;&lt;li&gt;&#xA;&lt;h3 id=&#34;５export-files&#34;&gt;５．Export Files &lt;a href=&#34;#%ef%bc%95export-files&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h3&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;br&gt;&#xA;&lt;h2 id=&#34;コネクターの追加方法&#34;&gt;コネクターの追加方法 &lt;a href=&#34;#%e3%82%b3%e3%83%8d%e3%82%af%e3%82%bf%e3%83%bc%e3%81%ae%e8%bf%bd%e5%8a%a0%e6%96%b9%e6%b3%95&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Dockerを利用した、コネクターの追加方法を記載する。&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&#xA;&lt;h3 id=&#34;１エコシステム用のサイトから追加したいコネクタを探す&#34;&gt;１．エコシステム用のサイトから、追加したいコネクタを探す &lt;a href=&#34;#%ef%bc%91%e3%82%a8%e3%82%b3%e3%82%b7%e3%82%b9%e3%83%86%e3%83%a0%e7%94%a8%e3%81%ae%e3%82%b5%e3%82%a4%e3%83%88%e3%81%8b%e3%82%89%e8%bf%bd%e5%8a%a0%e3%81%97%e3%81%9f%e3%81%84%e3%82%b3%e3%83%8d%e3%82%af%e3%82%bf%e3%82%92%e6%8e%a2%e3%81%99&#34; class=&#34;anchor&#34; aria-hidden=&#34;true&#34;&gt;&lt;i class=&#34;material-icons align-middle&#34;&gt;link&lt;/i&gt;&lt;/a&gt;&lt;/h3&gt;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://filigran.notion.site/OpenCTI-Ecosystem-868329e9fb734fca89692b2ed6087e76&#34; rel=&#34;external&#34; target=&#34;_blank&#34;&gt;&lt;strong&gt;エコシステム&lt;/strong&gt;&lt;svg width=&#34;16&#34; height=&#34;16&#34; viewBox=&#34;0 0 24 24&#34; xmlns=&#34;http://www.w3.org/2000/svg&#34;&gt;&lt;path fill=&#34;currentColor&#34; d=&#34;M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z&#34;/&gt;&lt;/svg&gt;&lt;/a&gt;と呼ばれる、簡単に実装できるテンプレートのようなものがある。&lt;/li&gt;&#xA;&lt;li&gt;公式docsでは、エコシステムについて以下のような説明がある。&lt;br&gt;&#xA;&lt;br&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;OpenCTIはオープンでモジュール化されたプラットフォームです。&lt;br&gt;&#xA;Filigranとコミュニティによって、数多くのコネクタ、プラグイン、クライアント、コンテンツが作成されています。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
